
# AFL Instrumentation Test

A small test program `main.c` that gets instrumented by AFL++ in different ways. Then we look at the disassembly of the instrumentation.
I used [Binary Ninja Cloud](https://cloud.binary.ninja/) to generate the graph view.

- `gcc main.c`: https://cloud.binary.ninja/embed/7088c21e-934e-4ca8-8b30-a4cd0afbcc6b
- `afl-clang-fast main.c`: https://cloud.binary.ninja/embed/83060cff-2ed1-4098-be3d-c4b3f52fbeaf
- `AFL_USE_ASAN=1      afl-clang-fast main.c`: https://cloud.binary.ninja/embed/6b0b362c-939e-458d-bac4-56bfe025b656
- `AFL_LLVM_CMPLOG=1   afl-clang-fast main.c`: https://cloud.binary.ninja/embed/560a8ffa-f0d4-4c0c-92c7-a446188a506f
- `AFL_LLVM_LAF_ALL=1  afl-clang-fast main.c`: https://cloud.binary.ninja/embed/bdf3f399-8bef-4cbc-ad92-6e09b445034a

Build the examples yourself:

```bash
docker build -t afl-example .
docker run --rm -it -v "$PWD:/pwd" --cap-add=SYS_PTRACE --security-opt seccomp=unconfined --platform linux/amd64 --name afl-example afl-example
```